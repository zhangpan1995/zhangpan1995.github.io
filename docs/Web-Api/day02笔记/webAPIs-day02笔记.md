# 学习目标

> - [ ] 能够使用两种方式注册事件
>- [ ] 能够写出表单全选取消全选的案例
>   - [ ] 能够说出排他思想
> - [ ] 能够写出tab栏切换案例
> 
> 。。。。。。



**理解上课的知识点......**



# 注册事件的两种方式

**需求： 现在需要给同一个button，注册两个点击事件，怎么做？**

> 多人合作开发的时候可能会遇到类似的场景。

## on+事件名称

> 类似于：onclick。这种方式注册事件几乎所有的浏览器都支持。

**语法：**

```js
// 注册事件-------------------------
box.onclick = function(){
	// 事件处理程序	
}
```

**优点：** 方便

**缺点：**

- 同一个元素上同时只能注册一个同类型事件，如果同时注册了多个同类型事件，后面的会覆盖前面的

  > 其实就是类似于赋值，后面赋值把前面赋值的覆盖了

---



## addEventListener('事件名称',fn)

> 使用 `on+事件名称` 的方式会有覆盖的问题
>
> 但是 `addEventListener()` 的方式则不会覆盖，并且现代浏览器都支持（不过IE678不支持）

**语法：**

**注册事件：addEventListener**

```javascript
// 第一个参数：事件的类型：click 、 mouseover  
// 第二个参数：事件处理程序
事件源.addEventListener(type,func);

// 例子：-------------------------------------
function fn() {
    alert("哈哈哈")
}
```



##### ヾ(๑╹◡╹)ﾉ" 微博发布案例-输入功能

![444](webAPIs-day02笔记.assets/444.gif)

**需求：** 用户输入文字，可以计算用户输入的字数

**分析：**

- 找到文本域元素
- 注册input输入事件
- 把当前输入的字符串的长度，设置给字数span中去



##### ヾ(๑╹◡╹)ﾉ" 表单全选案例

> 把写好的静态页面，通过注册事件的方式完成动态功能

**需求：**点击全选多选框，让其他多选框改变状态

![表格全选案例](webAPIs-day02笔记.assets/表格全选案例.gif)

**步骤：**

1. 给全选多选框注册点击事件
2. 点击之后，把全选多选框的状态设置给所有其他多选框即可



## 编程思维-假设成立法

> 对于某一些问题来说，可以先假设结果成立，然后找打脸的情况

```js
// 需求: 判断这个数组是否全是偶数
//   思路：先假设数组中全是偶数true，如果发现打脸的（有奇数），那么假设错误为false，就不全是偶数
let arr = [2, 4, 6, 8, 10, 1]
```



##### ヾ(๑╹◡╹)ﾉ" 表单反选案例

> 在全选的基础上，增加反选功能

**需求：**点击其他多选框，让全选多选框改变状态

![表格反选案例](webAPIs-day02笔记.assets/表格反选案例.gif)

**步骤：**

1. 给所有其他多选框注册点击事件
2. 点击之后判断是否全都选中了
   1. 用变量flag表示多选框是否选中，默认假设全都选中了
   2. 遍历所有的其他多选框，只要有一个没有选中，则假设错了，记得把flag改成flase
   3. 最后只需要看flag
   4. 如果发现其他多选框其他多选框全都选中了，此时让全选多选框选中
   5. 如果其他多选框没有全都选中，此时让全选多选框不选中

![image-20220113012951894](webAPIs-day02笔记.assets/image-20220113012951894.png)



##### ヾ(๑╹◡╹)ﾉ" 购物车加减操作

![555](webAPIs-day02笔记.assets/555.gif)

**需求：**用户点击加号，则文本框+1，点击减号，则文本框-1，如果文本框为1，则禁用减号

**步骤：**

1. 找对象，获取文本框，增加按钮，减少按钮
2. 给增加按钮注册点击事件，让文本框的内容增加1，并且让减少按钮解除禁用
3. 给减少按钮注册点击事件，让文本框的内容减少1，并且判断内容是否为1，如果为1禁用减少按钮



# 高阶函数（了解）

**高阶函数：可以简单的理解为函数的高级应用，JavaScript中函数可以被当做值来看待，基于这个特性，实现函数的高级应用**

## 函数表达式

> 函数表达式和普通函数本质无太大区别

```js
function fn () {
    console.log('普通函数')
}
fn()

// ----------------------------------------
let fn = function() {
    console.log('函数表达式')
}
fn()

box.onclick = function () {
    console.log('on方式注册事件的方式')
}
```

**注意点：**

- 普通函数可以先调用，后声明，但是推荐先声明，再调用的写法
- 函数表达式必须先声明后调用

## 回调函数

**回调函数：把一个A函数当做参数传递给另一个B函数时，这个A函数就是回调函数**

**比如：**

```js
let box = document.querySelector('.box')
box.addEventListener('click',function () {
    console.log('我是一个回调函数')
})
```



# 类名操作

> 之前：通过className设置类名
>
> 缺点：如果元素本身有类名，需要拼接，麻烦
>
> 推荐：classList是一个集合，会存储某个元素上所有的类名，使用classList来替代className操作class类

**需求：**给标签 `<div class="aa bb cc"></div>` 添加 `dd` 类名

**每一个元素都有一个属性：classList，并且classList上还有4个方法：**

- classList.add()：往元素上**添加类名**，不会覆盖原有类名
- classList.remove()：往元素上**移除类名**，不会影响其他
- classList.contains()：判断元素的类名中是否**包含此类名**
- classList.toggle()：**切换类名**，原本无就添加，原本有就删除



##### ヾ(๑╹◡╹)ﾉ" 点击按钮，设置元素显示/隐藏切换

![666](webAPIs-day02笔记.assets/666.gif)

**步骤：**

1. 找对象，获取button和div
2. 给button注册点击事件，点击之后让div切换是否有hide——》classList.toggle('hide')



# 编程思维-排他思想

**步骤：**

1. 干掉所有人（使用for循环）
2. 复活自己（通过下标或者this找到自己）



##### ヾ(๑╹◡╹)ﾉ" 一堆按钮，同一时间只有被点击的按钮变红，其他不变色

> 5个人打游戏，只让一个人获胜——》先把所有人网线拔了，然后只让一个人重新上线

![排他思想](webAPIs-day02笔记.assets/排他思想.gif)

- 找到所有的按钮
- 给所有按钮注册点击事件
- 点击之后让自己变色
  - 但是同一时间只能一个变色，其他需要恢复原状？？？
  - **排他思想：** 先让所有的都不变色（**清空所有**），再让当前这个变色（**单独设置**）



##### ヾ(๑╹◡╹)ﾉ" tab栏案例

> [tab栏效果](https://www.sina.com.cn/)也网页中很常见，tab栏可以节省很多页面中的空间

![777](webAPIs-day02笔记.assets/777.gif)

**步骤：**

1. 找对象——》所有的导航li和所有的展示div
2. 给4个导航li注册点击事件
3. 当li被点击时
   1. 让当前的li有边框，添加.active类，排他
   2. 让展示div展示，添加.show类，排他

![image-20220113022800236](webAPIs-day02笔记.assets/image-20220113022800236.png)



# 定时器 setInterval

> setInterval定时器可以让代码隔一段时间就执行一次，除非被清除，否则一直执行下去

**需求1：让一段代码隔1s就执行一遍**

**设置定时器：**

```javascript
// 语法：setInterval(func, time);
//  参数1：需要重复执行的代码函数
//  参数2：每次间隔的毫秒数
//  返回值：当前定时器的id（用于清除）

let timeId = setInterval(function(){
	//重复执行的代码
}, 1000);
```

**需求2：给两个按钮注册点击事件，一个点击装连环炸弹、一个点击拆炸弹**

**清除定时器：**

```javascript
// 语法：clearInterval(timeId)
//  参数：需要清除的定时器id

clearInterval(timeId);//清除上面定义的定时器
```



##### ヾ(๑╹◡╹)ﾉ" 用户注册倒计时案例

![3000](webAPIs-day02笔记.assets/3000.gif)

**步骤：**

1. 找对象
2. 给btn注册点击事件
3. 点击之后，
   1. 把btn设置为禁用
   2. 修改btn中的文字内容为我已经阅读用户协议(5)
   3. 开启定时器，在外部通过变量count计数，每1s，count++，每次都渲染到btn中的文字去
   4. 定时器每次执行的时候都需要判断剩余时间，当count计数器剩余时间为0秒时，此时启用btn，并且修改文字：已阅读完，并且清除定时器

![1655200782895](C:\Users\12199\AppData\Roaming\Typora\typora-user-images\1655200782895.png)